/* ============================================================
   ANIMATIONS CSS - RISC-V Simulator
============================================================ */

/* Cable inactivo */
.wire {
    stroke: #334155;
    stroke-width: 2px;
    fill: none;
    transition: stroke 0.3s ease, filter 0.3s ease;
}

/* Cable activo  */
.wire.active {
    stroke: #4ade80; 
    filter: drop-shadow(0 0 4px rgba(74, 222, 128, 0.6));
    animation: flow 1s linear infinite;
}

/* Componente activo */
.component.active {
    stroke: #fbbf24; 
    stroke-width: 2px;
    filter: drop-shadow(0 0 6px rgba(251, 191, 36, 0.4));
}

/* Animaci√≥n de flujo de datos */
@keyframes flow {
    to {
        stroke-dashoffset: -20;
    }
}

/* ============================================================
   FIELD ANIMATIONS
============================================================ */
.format-table td.active {
    animation: fieldPulse 0.4s ease;
}

@keyframes fieldPulse {
    0% { transform: scale(1); }
    50% { transform: scale(1.05); }
    100% { transform: scale(1); }
}

/* ============================================================
   IMMEDIATE FIELD ANIMATIONS
============================================================ */
.format-table td.imm-field {
    animation: immFieldAppear 0.3s ease;
}

@keyframes immFieldAppear {
    0% { 
        border-color: transparent;
    }
    100% { 
        border-color: var(--field-imm, #06b6d4);
    }
}

/* Efecto de onda para campos de inmediato */
.format-table td.imm-highlight {
    animation: immWave 0.5s ease forwards;
}

@keyframes immWave {
    0% { 
        transform: scale(1);
        background: rgba(6, 182, 212, 0.1);
    }
    30% { 
        transform: scale(1.08);
        background: rgba(6, 182, 212, 0.4);
    }
    60% {
        transform: scale(1.02);
        background: rgba(6, 182, 212, 0.3);
    }
    100% { 
        transform: scale(1.02);
        background: rgba(6, 182, 212, 0.25);
    }
}

/* ============================================================
   TOAST STYLES ADICIONALES
============================================================ */
.toast {
    display: flex;
    align-items: center;
    gap: 0.75rem;
}

.toast svg {
    flex-shrink: 0;
}

/* ============================================================
   BUTTON ANIMATIONS
============================================================ */
.btn:hover svg {
    animation: buttonIconBounce 0.3s ease;
}

@keyframes buttonIconBounce {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-2px); }
}

/* ============================================================
   STAGE PILL ANIMATIONS
============================================================ */
.stage-pill.active {
    animation: stageActive 0.5s ease;
}

@keyframes stageActive {
    0% { transform: scale(0.9); opacity: 0.5; }
    50% { transform: scale(1.05); }
    100% { transform: scale(1); opacity: 1; }
}

/* ============================================================
   REGISTER ROW HIGHLIGHT
============================================================ */
.registers-table tbody tr.highlight td {
    position: relative;
}

.registers-table tbody tr.highlight td::after {
    content: '';
    position: absolute;
    inset: 0;
    background: linear-gradient(90deg, transparent, rgba(34, 197, 94, 0.2), transparent);
    animation: registerHighlight 0.5s ease;
    pointer-events: none;
}

@keyframes registerHighlight {
    0% { transform: translateX(-100%); }
    100% { transform: translateX(100%); }
}

/* ============================================================
   SIDEBAR TRANSITION
============================================================ */
.controls-section {
    transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1),
                opacity 0.3s ease;
}

.btn-collapse svg {
    transition: transform 0.3s ease;
}

/* ============================================================
   PANEL HOVER EFFECTS
============================================================ */
.panel {
    transition: transform 0.2s ease,
                border-color 0.2s ease,
                box-shadow 0.2s ease;
}

.panel:hover {
    transform: translateY(-1px);
}

/* ============================================================
   INPUT FOCUS ANIMATIONS
============================================================ */
.input-group textarea {
    transition: border-color 0.2s ease,
                box-shadow 0.2s ease,
                background-color 0.2s ease;
}

/* ============================================================
   LOADING STATE
============================================================ */
.loading {
    position: relative;
    pointer-events: none;
}

.loading::after {
    content: '';
    position: absolute;
    inset: 0;
    background: rgba(0, 0, 0, 0.5);
    border-radius: inherit;
    display: flex;
    align-items: center;
    justify-content: center;
}

/* ============================================================
   SKELETON LOADING
============================================================ */
.skeleton {
    background: linear-gradient(
        90deg,
        var(--bg-elevated) 25%,
        var(--bg-card) 50%,
        var(--bg-elevated) 75%
    );
    background-size: 200% 100%;
    animation: skeleton 1.5s ease infinite;
}

@keyframes skeleton {
    0% { background-position: 200% 0; }
    100% { background-position: -200% 0; }
}
